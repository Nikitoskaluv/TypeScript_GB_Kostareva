"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.User = void 0;
class User {
    constructor(name, surname, login, birthDate, password) {
        this.cart = [];
        this.name = name;
        this.surname = surname;
        this.login = login;
        this.birthDate = birthDate;
        this.password = password;
    }
    addToCart(id, arrayOfProduct) {
        const productFromCart = this.cart.find(obj => obj.id === id);
        const productForPurchase = arrayOfProduct.find((obj => obj.id === id));
        if (productForPurchase.price) {
            if (!productFromCart) {
                ;
                productForPurchase.quantity += 1;
                this.cart.push(productForPurchase);
            }
            else {
                productFromCart.quantity += 1;
            }
        }
        else {
            console.log('Товара нет в наличии');
        }
    }
    removeFromCart(id) {
        const productFromCart = this.cart.find(obj => obj.id === id);
        if (productFromCart) {
            if (productFromCart.quantity <= 1) {
                let index = this.cart.indexOf(productFromCart);
                this.cart.splice(index, 1);
            }
            else {
                productFromCart.quantity -= 1;
            }
        }
        else {
            console.log("Ошибка, такого товара в корзине нет");
        }
    }
    countTotal() {
        if (this.cart.length > 0) {
            return this.cart.map((obj => checkAndSumm(obj)));
        }
        else {
            return 0;
        }
    }
}
exports.User = User;
function checkAndSumm(obj) {
    let totalSumm = 0;
    totalSumm += obj.price * obj.quantity;
    return totalSumm;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlckNsYXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VzZXJDbGFzcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxNQUFhLElBQUk7SUFRYixZQUFZLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRO1FBRnJELFNBQUksR0FBRyxFQUFFLENBQUM7UUFHTixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtJQUM1QixDQUFDO0lBQ0QsU0FBUyxDQUFDLEVBQUUsRUFBRSxjQUFjO1FBQ3hCLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM3RCxNQUFNLGtCQUFrQixHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUV2RSxJQUFJLGtCQUFrQixDQUFDLEtBQUssRUFBRTtZQUMxQixJQUFJLENBQUMsZUFBZSxFQUFFO2dCQUFDLENBQUM7Z0JBQ3BCLGtCQUFrQixDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7YUFDdEM7aUJBQU07Z0JBQ0gsZUFBZSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7YUFDakM7U0FDSjthQUFNO1lBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFBO1NBQ3RDO0lBQ0wsQ0FBQztJQUNELGNBQWMsQ0FBQyxFQUFFO1FBQ2IsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFBO1FBQzVELElBQUksZUFBZSxFQUFFO1lBQ2pCLElBQUksZUFBZSxDQUFDLFFBQVEsSUFBSSxDQUFDLEVBQUU7Z0JBQy9CLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUMvQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDOUI7aUJBQU07Z0JBQ0gsZUFBZSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7YUFDakM7U0FDSjthQUFNO1lBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFBO1NBQ3JEO0lBQ0wsQ0FBQztJQUNELFVBQVU7UUFDTixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN0QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3BEO2FBQU07WUFDSCxPQUFPLENBQUMsQ0FBQztTQUNaO0lBRUwsQ0FBQztDQUVKO0FBcERELG9CQW9EQztBQUVELFNBQVMsWUFBWSxDQUFDLEdBQUc7SUFDckIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO0lBQ2xCLFNBQVMsSUFBSSxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUE7SUFDckMsT0FBTyxTQUFTLENBQUE7QUFDcEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBVc2VyIHtcbiAgICBuYW1lO1xuICAgIHN1cm5hbWU7XG4gICAgbG9naW47XG4gICAgYmlydGhEYXRlO1xuICAgIHBhc3N3b3JkO1xuICAgIGNhcnQgPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHN1cm5hbWUsIGxvZ2luLCBiaXJ0aERhdGUsIHBhc3N3b3JkKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3VybmFtZSA9IHN1cm5hbWU7XG4gICAgICAgIHRoaXMubG9naW4gPSBsb2dpbjtcbiAgICAgICAgdGhpcy5iaXJ0aERhdGUgPSBiaXJ0aERhdGU7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZFxuICAgIH1cbiAgICBhZGRUb0NhcnQoaWQsIGFycmF5T2ZQcm9kdWN0KSB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3RGcm9tQ2FydCA9IHRoaXMuY2FydC5maW5kKG9iaiA9PiBvYmouaWQgPT09IGlkKTtcbiAgICAgICAgY29uc3QgcHJvZHVjdEZvclB1cmNoYXNlID0gYXJyYXlPZlByb2R1Y3QuZmluZCgob2JqID0+IG9iai5pZCA9PT0gaWQpKTtcblxuICAgICAgICBpZiAocHJvZHVjdEZvclB1cmNoYXNlLnByaWNlKSB7XG4gICAgICAgICAgICBpZiAoIXByb2R1Y3RGcm9tQ2FydCkgeztcbiAgICAgICAgICAgICAgICBwcm9kdWN0Rm9yUHVyY2hhc2UucXVhbnRpdHkgKz0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcnQucHVzaChwcm9kdWN0Rm9yUHVyY2hhc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0RnJvbUNhcnQucXVhbnRpdHkgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQotC+0LLQsNGA0LAg0L3QtdGCINCyINC90LDQu9C40YfQuNC4JylcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVGcm9tQ2FydChpZCkge1xuICAgICAgICBjb25zdCBwcm9kdWN0RnJvbUNhcnQgPSB0aGlzLmNhcnQuZmluZChvYmogPT4gb2JqLmlkID09PSBpZClcbiAgICAgICAgaWYgKHByb2R1Y3RGcm9tQ2FydCkge1xuICAgICAgICAgICAgaWYgKHByb2R1Y3RGcm9tQ2FydC5xdWFudGl0eSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5jYXJ0LmluZGV4T2YocHJvZHVjdEZyb21DYXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcnQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdEZyb21DYXJ0LnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcItCe0YjQuNCx0LrQsCwg0YLQsNC60L7Qs9C+INGC0L7QstCw0YDQsCDQsiDQutC+0YDQt9C40L3QtSDQvdC10YJcIilcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb3VudFRvdGFsKCkge1xuICAgICAgICBpZiAodGhpcy5jYXJ0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcnQubWFwKChvYmogPT4gY2hlY2tBbmRTdW1tKG9iaikpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gY2hlY2tBbmRTdW1tKG9iaikge1xuICAgIGxldCB0b3RhbFN1bW0gPSAwO1xuICAgIHRvdGFsU3VtbSArPSBvYmoucHJpY2UgKiBvYmoucXVhbnRpdHlcbiAgICByZXR1cm4gdG90YWxTdW1tXG59Il19