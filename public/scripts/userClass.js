export class User {
    constructor(name, surname, login, birthDate, password) {
        this.cart = [];
        this.name = name;
        this.surname = surname;
        this.login = login;
        this.birthDate = birthDate;
        this.password = password;
    }
    addToCart(id, arrayOfProduct) {
        const productFromCart = this.cart.find(obj => obj.id === id);
        const productForPurchase = arrayOfProduct.find((obj => obj.id === id));
        if (productForPurchase.price) {
            if (!productFromCart) {
                ;
                productForPurchase.quantity += 1;
                this.cart.push(productForPurchase);
            }
            else {
                productFromCart.quantity += 1;
            }
        }
        else {
            console.log('Товара нет в наличии');
        }
    }
    removeFromCart(id) {
        const productFromCart = this.cart.find(obj => obj.id === id);
        if (productFromCart) {
            if (productFromCart.quantity <= 1) {
                let index = this.cart.indexOf(productFromCart);
                this.cart.splice(index, 1);
            }
            else {
                productFromCart.quantity -= 1;
            }
        }
        else {
            console.log("Ошибка, такого товара в корзине нет");
        }
    }
    countTotal() {
        if (this.cart.length > 0) {
            return this.cart.map((obj => checkAndSumm(obj)));
        }
        else {
            return 0;
        }
    }
}
function checkAndSumm(obj) {
    let totalSumm = 0;
    totalSumm += obj.price * obj.quantity;
    return totalSumm;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlckNsYXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VzZXJDbGFzcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLE9BQU8sSUFBSTtJQVFiLFlBQVksSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVE7UUFGckQsU0FBSSxHQUFHLEVBQUUsQ0FBQztRQUdOLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO0lBQzVCLENBQUM7SUFDRCxTQUFTLENBQUMsRUFBRSxFQUFFLGNBQWM7UUFDeEIsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzdELE1BQU0sa0JBQWtCLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXZFLElBQUksa0JBQWtCLENBQUMsS0FBSyxFQUFFO1lBQzFCLElBQUksQ0FBQyxlQUFlLEVBQUU7Z0JBQUMsQ0FBQztnQkFDcEIsa0JBQWtCLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQztnQkFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQzthQUN0QztpQkFBTTtnQkFDSCxlQUFlLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQzthQUNqQztTQUNKO2FBQU07WUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQUE7U0FDdEM7SUFDTCxDQUFDO0lBQ0QsY0FBYyxDQUFDLEVBQUU7UUFDYixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUE7UUFDNUQsSUFBSSxlQUFlLEVBQUU7WUFDakIsSUFBSSxlQUFlLENBQUMsUUFBUSxJQUFJLENBQUMsRUFBRTtnQkFDL0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQy9DLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQzthQUM5QjtpQkFBTTtnQkFDSCxlQUFlLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQzthQUNqQztTQUNKO2FBQU07WUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLHFDQUFxQyxDQUFDLENBQUE7U0FDckQ7SUFDTCxDQUFDO0lBQ0QsVUFBVTtRQUNOLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEQ7YUFBTTtZQUNILE9BQU8sQ0FBQyxDQUFDO1NBQ1o7SUFFTCxDQUFDO0NBRUo7QUFFRCxTQUFTLFlBQVksQ0FBQyxHQUFHO0lBQ3JCLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztJQUNsQixTQUFTLElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFBO0lBQ3JDLE9BQU8sU0FBUyxDQUFBO0FBQ3BCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVXNlciB7XG4gICAgbmFtZTtcbiAgICBzdXJuYW1lO1xuICAgIGxvZ2luO1xuICAgIGJpcnRoRGF0ZTtcbiAgICBwYXNzd29yZDtcbiAgICBjYXJ0ID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBzdXJuYW1lLCBsb2dpbiwgYmlydGhEYXRlLCBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN1cm5hbWUgPSBzdXJuYW1lO1xuICAgICAgICB0aGlzLmxvZ2luID0gbG9naW47XG4gICAgICAgIHRoaXMuYmlydGhEYXRlID0gYmlydGhEYXRlO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmRcbiAgICB9XG4gICAgYWRkVG9DYXJ0KGlkLCBhcnJheU9mUHJvZHVjdCkge1xuICAgICAgICBjb25zdCBwcm9kdWN0RnJvbUNhcnQgPSB0aGlzLmNhcnQuZmluZChvYmogPT4gb2JqLmlkID09PSBpZCk7XG4gICAgICAgIGNvbnN0IHByb2R1Y3RGb3JQdXJjaGFzZSA9IGFycmF5T2ZQcm9kdWN0LmZpbmQoKG9iaiA9PiBvYmouaWQgPT09IGlkKSk7XG5cbiAgICAgICAgaWYgKHByb2R1Y3RGb3JQdXJjaGFzZS5wcmljZSkge1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0RnJvbUNhcnQpIHs7XG4gICAgICAgICAgICAgICAgcHJvZHVjdEZvclB1cmNoYXNlLnF1YW50aXR5ICs9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJ0LnB1c2gocHJvZHVjdEZvclB1cmNoYXNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdEZyb21DYXJ0LnF1YW50aXR5ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn0KLQvtCy0LDRgNCwINC90LXRgiDQsiDQvdCw0LvQuNGH0LjQuCcpXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRnJvbUNhcnQoaWQpIHtcbiAgICAgICAgY29uc3QgcHJvZHVjdEZyb21DYXJ0ID0gdGhpcy5jYXJ0LmZpbmQob2JqID0+IG9iai5pZCA9PT0gaWQpXG4gICAgICAgIGlmIChwcm9kdWN0RnJvbUNhcnQpIHtcbiAgICAgICAgICAgIGlmIChwcm9kdWN0RnJvbUNhcnQucXVhbnRpdHkgPD0gMSkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuY2FydC5pbmRleE9mKHByb2R1Y3RGcm9tQ2FydCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJ0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb2R1Y3RGcm9tQ2FydC5xdWFudGl0eSAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLQntGI0LjQsdC60LAsINGC0LDQutC+0LPQviDRgtC+0LLQsNGA0LAg0LIg0LrQvtGA0LfQuNC90LUg0L3QtdGCXCIpXG4gICAgICAgIH1cbiAgICB9XG4gICAgY291bnRUb3RhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJ0Lm1hcCgob2JqID0+IGNoZWNrQW5kU3VtbShvYmopKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIGNoZWNrQW5kU3VtbShvYmopIHtcbiAgICBsZXQgdG90YWxTdW1tID0gMDtcbiAgICB0b3RhbFN1bW0gKz0gb2JqLnByaWNlICogb2JqLnF1YW50aXR5XG4gICAgcmV0dXJuIHRvdGFsU3VtbVxufSJdfQ==