"use strict";
exports.__esModule = true;
exports.Product = exports.cart = void 0;
//Задание 2 
exports.cart = [];
var Product = /** @class */ (function () {
    function Product(name, cover, id, type, price) {
        this.quantity = 0;
        this._reviews = [];
        this._score = 0;
        this.name = name;
        this.cover = cover;
        this.price = price;
        this.type = type;
        this.id = id;
    }
    Object.defineProperty(Product.prototype, "score", {
        get: function () {
            return this._score;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Product.prototype, "reviews", {
        get: function () {
            return this._reviews;
        },
        enumerable: false,
        configurable: true
    });
    Product.prototype.canBuy = function () {
        return typeof this.price === 'number';
    };
    Product.prototype.showData = function () {
        console.log("\u0422\u043E\u0432\u0430\u0440 - ".concat(this.name, ", \u0446\u0435\u043D\u0430 - ").concat(this.getPrice(), " - \u0442\u0438\u043F \u043E\u0431\u043B\u043E\u0436\u043A\u0438 ").concat(this.cover));
    };
    Product.prototype.getPrice = function () {
        return this.price ? this.price.toString() : 'Нет в продаже';
    };
    Product.prototype.buyProduct = function (product) {
        if (this.price) {
            this.status = true;
            this.quantity = this.quantity + 1;
            exports.cart.push(product);
        }
        else {
            this.status = false,
                this.quantity = 0;
        }
    };
    Product.prototype.addReview = function (review) {
        this._reviews.push(review);
        this._score = this._reviews.reduce(function (acc, review) {
            return acc + review.score;
        }, 0) / this._reviews.length;
    };
    return Product;
}());
exports.Product = Product;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInByb2R1Y3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBSUEsWUFBWTtBQUNDLFFBQUEsSUFBSSxHQUFtQixFQUFFLENBQUM7QUFFdkM7SUFhSSxpQkFBWSxJQUFZLEVBQUUsS0FBWSxFQUFFLEVBQVUsRUFBRSxJQUFPLEVBQUUsS0FBYztRQVIzRSxhQUFRLEdBQVksQ0FBQyxDQUFBO1FBR2IsYUFBUSxHQUFhLEVBQUUsQ0FBQTtRQUN2QixXQUFNLEdBQVcsQ0FBQyxDQUFBO1FBS3RCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBQ2hCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBQ2hCLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFBO0lBRWhCLENBQUM7SUFDRCxzQkFBSSwwQkFBSzthQUFUO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFBO1FBQ3RCLENBQUM7OztPQUFBO0lBQ0Qsc0JBQUksNEJBQU87YUFBWDtZQUNJLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQTtRQUN4QixDQUFDOzs7T0FBQTtJQUVELHdCQUFNLEdBQU47UUFDSSxPQUFPLE9BQU8sSUFBSSxDQUFDLEtBQUssS0FBSyxRQUFRLENBQUE7SUFDekMsQ0FBQztJQUNELDBCQUFRLEdBQVI7UUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLDJDQUFXLElBQUksQ0FBQyxJQUFJLDBDQUFZLElBQUksQ0FBQyxRQUFRLEVBQUUsOEVBQWtCLElBQUksQ0FBQyxLQUFLLENBQUUsQ0FBQyxDQUFDO0lBQy9GLENBQUM7SUFDRCwwQkFBUSxHQUFSO1FBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUE7SUFDL0QsQ0FBQztJQUNELDRCQUFVLEdBQVYsVUFBVyxPQUFxQjtRQUM1QixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1lBQ2xDLFlBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDdEI7YUFBTTtZQUNILElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSztnQkFDZixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQTtTQUN4QjtJQUNMLENBQUM7SUFDRCwyQkFBUyxHQUFULFVBQVUsTUFBYztRQUNwQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFTLFVBQUMsR0FBRyxFQUFFLE1BQU07WUFDbkQsT0FBTyxHQUFHLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUM5QixDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUE7SUFDaEMsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQUFDLEFBckRELElBcURDO0FBckRZLDBCQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ292ZXIgfSBmcm9tICcuL3R5cGVzL2NvdmVyLmpzJ1xuaW1wb3J0IHsgSVByb2R1Y3QgfSBmcm9tICcuL3R5cGVzL3Byb2R1Y3RJJ1xuaW1wb3J0IHsgUmV2aWV3IH0gZnJvbSAnLi90eXBlcy9yZXZpZXdJLmpzJztcblxuLy/Ql9Cw0LTQsNC90LjQtSAyIFxuZXhwb3J0IGNvbnN0IGNhcnQ6IFByb2R1Y3Q8YW55PltdID0gW107XG5cbmV4cG9ydCBjbGFzcyBQcm9kdWN0PFQgPSBhbnk+ICB7XG4gICAgbmFtZTogc3RyaW5nXG4gICAgY292ZXI6IENvdmVyXG4gICAgaWQ6IG51bWJlclxuICAgIHN0YXR1cz86IGJvb2xlYW5cbiAgICBxdWFudGl0eT86IG51bWJlciA9IDBcbiAgICBwcm90ZWN0ZWQgcHJpY2U/OiBudW1iZXJcbiAgICB0eXBlOiBUXG4gICAgcHJpdmF0ZSBfcmV2aWV3czogUmV2aWV3W10gPSBbXVxuICAgIHByaXZhdGUgX3Njb3JlOiBudW1iZXIgPSAwXG5cblxuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBjb3ZlcjogQ292ZXIsIGlkOiBudW1iZXIsIHR5cGU6IFQsIHByaWNlPzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICAgICAgdGhpcy5jb3ZlciA9IGNvdmVyXG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZVxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlXG4gICAgICAgIHRoaXMuaWQgPSBpZFxuXG4gICAgfVxuICAgIGdldCBzY29yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3JlXG4gICAgfVxuICAgIGdldCByZXZpZXdzKCk6IFJlYWRvbmx5PFJldmlld1tdPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXZpZXdzXG4gICAgfVxuXG4gICAgY2FuQnV5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMucHJpY2UgPT09ICdudW1iZXInXG4gICAgfVxuICAgIHNob3dEYXRhKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmxvZyhg0KLQvtCy0LDRgCAtICR7dGhpcy5uYW1lfSwg0YbQtdC90LAgLSAke3RoaXMuZ2V0UHJpY2UoKX0gLSDRgtC40L8g0L7QsdC70L7QttC60LggJHt0aGlzLmNvdmVyfWApO1xuICAgIH1cbiAgICBnZXRQcmljZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmljZSA/IHRoaXMucHJpY2UudG9TdHJpbmcoKSA6ICfQndC10YIg0LIg0L/RgNC+0LTQsNC20LUnXG4gICAgfVxuICAgIGJ1eVByb2R1Y3QocHJvZHVjdDogUHJvZHVjdDxhbnk+KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnByaWNlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gdGhpcy5xdWFudGl0eSArIDE7XG4gICAgICAgICAgICBjYXJ0LnB1c2gocHJvZHVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSAwXG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkUmV2aWV3KHJldmlldzogUmV2aWV3KSB7XG4gICAgICAgIHRoaXMuX3Jldmlld3MucHVzaChyZXZpZXcpO1xuICAgICAgICB0aGlzLl9zY29yZSA9IHRoaXMuX3Jldmlld3MucmVkdWNlPG51bWJlcj4oKGFjYywgcmV2aWV3KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYWNjICsgcmV2aWV3LnNjb3JlO1xuICAgICAgICB9LCAwKSAvIHRoaXMuX3Jldmlld3MubGVuZ3RoXG4gICAgfVxufSJdfQ==